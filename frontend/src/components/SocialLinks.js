import React from 'react';
import './SocialLinks.css';

const SocialLinks = ({ profile, settings }) => {
    if (!settings) return null;

    const socialLinks = [
        {
            type: 'telegram',
            url: settings.profileTelegramLink,
            label: 'Telegram',
            icon: (
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0C5.376 0 0 5.376 0 12C0 18.624 5.376 24 12 24C18.624 24 24 18.624 24 12C24 5.376 18.624 0 12 0ZM17.568 8.16C17.388 10.056 16.608 14.664 16.212 16.788C16.044 17.688 15.708 17.988 15.396 18.024C14.7 18.084 14.172 17.568 13.5 17.124C12.444 16.428 11.844 15.996 10.824 15.324C9.636 14.544 10.404 14.112 11.088 13.416C11.268 13.236 14.34 10.44 14.4 10.188C14.412 10.152 14.412 10.044 14.34 9.972C14.268 9.9 14.172 9.924 14.088 9.936C13.98 9.948 12.24 11.088 8.868 13.344C8.4 13.668 7.968 13.824 7.584 13.812C7.152 13.8 6.336 13.584 5.724 13.392C4.968 13.164 4.368 13.044 4.416 12.624C4.44 12.408 4.74 12.192 5.316 11.976C8.916 10.356 11.292 9.276 12.456 8.736C15.792 7.152 16.476 6.924 16.932 6.924C17.028 6.924 17.256 6.948 17.4 7.068C17.52 7.164 17.556 7.296 17.568 7.392C17.556 7.464 17.58 7.776 17.568 8.16Z" fill="currentColor"/>
                </svg>
            )
        },
        {
            type: 'whatsapp',
            url: settings.profileWhatsappLink,
            label: 'WhatsApp',
            icon: (
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0C5.376 0 0 5.376 0 12C0 18.624 5.376 24 12 24C18.624 24 24 18.624 24 12C24 5.376 18.624 0 12 0ZM16.08 16.44C15.792 17.04 14.904 17.52 14.232 17.688C13.776 17.808 13.164 17.904 10.812 16.92C7.932 15.744 6.048 12.816 5.916 12.648C5.784 12.48 4.632 10.992 4.632 9.456C4.632 7.92 5.424 7.164 5.772 6.804C6.06 6.504 6.54 6.36 6.996 6.36C6.996 6.36 7.38 6.36 7.62 6.372C7.86 6.384 8.196 6.264 8.532 7.08C8.868 7.92 9.708 10.08 9.78 10.224C9.852 10.368 9.9 10.536 9.792 10.728C9.684 10.92 9.636 11.04 9.492 11.208C9.348 11.376 9.192 11.58 9.06 11.712C8.916 11.856 8.772 12.012 8.94 12.3C9.108 12.588 9.708 13.524 10.548 14.28C11.628 15.24 12.54 15.528 12.828 15.672C13.116 15.816 13.284 15.792 13.452 15.6C13.62 15.408 14.196 14.736 14.388 14.448C14.58 14.16 14.772 14.208 15.036 14.304C15.3 14.4 17.448 15.456 17.736 15.6C18.024 15.744 18.216 15.816 18.288 15.936C18.36 16.056 18.36 16.596 16.08 16.44Z" fill="currentColor"/>
                </svg>
            )
        },
        {
            type: 'vk',
            url: settings.profileVkLink,
            label: 'ВКонтакте',
            icon: (
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0C5.376 0 0 5.376 0 12C0 18.624 5.376 24 12 24C18.624 24 24 18.624 24 12C24 5.376 18.624 0 12 0ZM18.24 13.44C18.24 13.44 19.32 14.508 19.56 14.976C19.572 14.988 19.584 15.012 19.584 15.024C19.68 15.192 19.704 15.324 19.644 15.432C19.536 15.624 19.164 15.744 19.044 15.756H16.944C16.788 15.756 16.464 15.72 16.068 15.456C15.756 15.24 15.456 14.868 15.156 14.508C14.7 13.98 14.304 13.512 13.908 13.512C13.86 13.512 13.812 13.524 13.764 13.536C13.44 13.644 13.02 14.1 13.02 15.264C13.02 15.588 12.768 15.756 12.588 15.756H11.676C11.352 15.756 9.492 15.612 7.86 13.884C5.868 11.772 4.08 7.548 4.068 7.512C3.984 7.32 4.212 7.212 4.464 7.212H6.588C6.876 7.212 6.948 7.38 7.008 7.512C7.08 7.668 7.332 8.28 7.728 8.964C8.46 10.2 8.892 10.764 9.24 10.764C9.312 10.764 9.384 10.74 9.456 10.692C10.008 10.38 9.912 8.544 9.888 8.196C9.888 8.124 9.888 7.38 9.636 7.092C9.456 6.876 9.144 6.792 8.964 6.768C9.024 6.672 9.156 6.6 9.336 6.552C9.72 6.456 10.428 6.444 11.124 6.444H11.52C12.276 6.456 12.456 6.504 12.708 6.576C13.2 6.696 13.212 7.008 13.164 8.064C13.152 8.424 13.14 8.832 13.14 9.312C13.14 9.42 13.128 9.54 13.128 9.672C13.116 10.224 13.104 10.848 13.524 11.088C13.584 11.124 13.644 11.136 13.716 11.136C13.872 11.136 14.34 11.136 15.372 9C15.756 8.328 16.092 7.572 16.116 7.512C16.14 7.476 16.2 7.38 16.272 7.332C16.32 7.308 16.38 7.284 16.44 7.284H18.924C19.272 7.284 19.512 7.332 19.548 7.464C19.62 7.668 19.536 8.28 18.408 9.768L17.844 10.476C16.824 11.724 16.824 11.796 18.24 13.44Z" fill="currentColor"/>
                </svg>
            )
        }
    ];

    const formatPhoneForWhatsApp = (phone) => {
        if (!phone) return '';
        return phone.replace(/\D/g, '');
    };

    const getMessengerUrl = (type, baseUrl) => {
        if (!baseUrl) return null;
        
        switch (type) {
            case 'whatsapp':
                return profile.phone ? 
                    `https://wa.me/${formatPhoneForWhatsApp(profile.phone)}` : 
                    baseUrl;
            case 'telegram':
                return baseUrl;
            case 'vk':
                return baseUrl;
            default:
                return baseUrl;
        }
    };

    return (
        <div className="social-links">
            {socialLinks.map((social, index) => {
                const url = getMessengerUrl(social.type, social.url);
                if (!url) return null;

                return (
                    <a
                        key={index}
                        href={url}
                        target="_blank"
                        rel="noopener noreferrer"
                        className={`social-link ${social.type}`}
                        title={`Открыть ${social.label}`}
                    >
                        {social.icon}
                        <span>{social.label}</span>
                    </a>
                );
            })}
        </div>
    );
};

export default SocialLinks; 